<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complaint</title>

    <link rel="icon" type="image/x-icon" href="/static/images/favicon.ico"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>


<style>
    .blink_me {
  animation: blinker 1s linear infinite;
}

@keyframes blinker {
  50% {
    opacity: 0;
  }
}
</style>

</head>
<body style="background-image: url(/static/images/update_p.jpg); background-size:cover;">




    <h2><center>Complaint Page</center></h2>
    
    <br><hr>

    
{% if c_role == 'Resdiential Member' %}
<center><h2 color="#006699">Welcome Resdiential  Member</h2></center>
<br>

<!-- Residential Complaint form start -->

<div class="container my-5">
    <form method="POST" enctype="multipart/form-data">
      {%csrf_token%}
    

      <div class="form-floating mb-3">
        <input
          type="text"
          value="" name="complaint"
          class="form-control"
          id="floatingInput"
          placeholder="name@example.com"
        />
        <label for="floatingInput">Query/Complaint Title</label>
      </div>

      
      <div class="form-floating mb-3">
        <input
          type="email"
          value="" name="email"
          class="form-control"
          id="floatingInput"
          placeholder="name@example.com"
        />
        <label for="floatingInput">Email</label>
      </div>

      <div class="form-floating mb-3">
        <input
          type="integer"
          value="" name="mobile"
          class="form-control"
          id="floatingInput"
          placeholder=""
        />
        <label for="floatingInput">Mobile</label>
      </div>

      <div class="form-floating mb-3">
        <input
          type="text"
          name="issue"
          class="form-control"
          id="floatingInput"
          placeholder="Issue"
        />
        <label for="floatingInput">Issue</label>
      </div>

    
      <div>
        <label for="formFileLg" class="form-label"
          >Attach Picture/video</label
        >
        <input
          class="form-control form-control-lg"
          name="my_files"
          id="formFileLg"
          type="file"
        />
      </div>


      <div class="mb-3 my-3">
      
        <label for="exampleFormControlTextarea1" class="form-label">
          Describe the issue</label
        >
    
        <textarea
          class="form-control"
          id="exampleFormControlTextarea1"
          name="comments"
          rows="3"
        ></textarea>
      </div>

    
      <div class="mb-3 my-3">
        <label for="validationCustom04" class="form-label">Status</label>
        <select class="form-select" name="status" id="validationCustom04" required>
           
            <option>Pending</option>
         
        </select></div>



      <button type="submit" class="btn btn-primary btn-lg">
        Submit
      </button>
    </form>
  </div>


<!-- Residential Complaint form END -->

<br>
<h2 style="color: crimson;"><center>Complaints</center></h2>
<br>
<!-- Complaint Status start-->
<div class="conatainer">
  <table class="table table-success" border="1" align="center">
    <tr>
        <th>ID</th>
        <th>Complaint Title</th>
        <th>Issue</th>
        <th>Email</th>
        <th>Mobile</th>
        <th>Comments</th>
        <th>Status</th>
       
        
    </tr>
    {% for i in data %}
    <tr>
        <td>{{i.id}}</td>
        <td>{{i.complaint}}</td>
        <td>{{i.issue}}</td>
        <td>{{i.email}}</td>
        <td>{{i.mobile}}</td>
        <th>{{i.comments}}</th>
        <th>{{i.status}}</th>
  
        
        
    </tr>
    {% endfor%}
  
  </table>
  </div>
  
  <!-- Complaint Status End-->

<!-- Complaint Status End-->



<center><form>
  <a href="" class="btn btn-danger mx-1">Pay the Monthly Maintence</a>
  
  <a href="/member_page" class="btn btn-success mx-1">Back to Member's Page</a>
  <!-- <a href="" class="btn btn-outline-danger mx-1">Write to Comittee</a> -->
  </form></center>
  


{%elif c_role == 'Committee Member' %}




<center><h2 >Welcome Comittee Member</h2></center>
<!-- <h3><center> Please Select The Following Options</center></h3>
<hr><br> -->


<!-- Complaint Status start-->
<div class="conatainer">
<table class="table table-success" border="1" align="center">
  <tr>
      <th>ID</th>
      <th>Complaint Title</th>
      <th>Issue</th>
      <th>Email</th>
      <th>Mobile</th>
      <th>Comments</th>
      <th>Status</th>
      <th>Update</th>
      
  </tr>
  {% for i in data %}
  <tr>
      <td>{{i.id}}</td>
      <td>{{i.complaint}}</td>
      <td>{{i.issue}}</td>
      <td>{{i.email}}</td>
      <td>{{i.mobile}}</td>
      <th>{{i.comments}}</th>
      <th>{{i.status}}</th>

      <!-- <td>{{i.dob}}</td> -->
      <td><a href="/status_up/{{i.id}}">Status</a></td>
      
  </tr>
  {% endfor%}

</table>
</div>

<!-- Complaint Status End-->
<center><br>
<a class="btn btn-primary" href="/member_page">Member's Page</a></center>


{%else%}
<center><h2 >Member's Only</h2></center>
<hr><br>
<div class="card ">
    <div class="card-body">

<center><h2 class="blink_me">Please Signup or Login!!!</h2></center>
    </div>

</div>
 

{%endif%}
</body>
</html>